{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/acer08022023/Desktop/defi-staking-app-starter-main/defi-staking-app-starter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/acer08022023/Desktop/defi-staking-app-starter-main/defi-staking-app-starter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"C:/Users/acer08022023/Desktop/defi-staking-app-starter-main/defi-staking-app-starter/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/acer08022023/Desktop/defi-staking-app-starter-main/defi-staking-app-starter/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/acer08022023/Desktop/defi-staking-app-starter-main/defi-staking-app-starter/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/acer08022023/Desktop/defi-staking-app-starter-main/defi-staking-app-starter/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\acer08022023\\\\Desktop\\\\defi-staking-app-starter-main\\\\defi-staking-app-starter\\\\src\\\\components\\\\App.js\";\nimport React, { Component } from \"react\";\nimport './App.css';\nimport Navbar from \"./Navbar\";\nimport Web3 from 'web3';\nimport Tether from '../truffle_abis/Tether.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n  var _super = _createSuper(App);\n  function App(props) {\n    var _this;\n    _classCallCheck(this, App);\n    _this = _super.call(this, props);\n    _this.state = {\n      account: '0x0',\n      tether: {},\n      rwd: {},\n      decentralBank: {},\n      tetherBalance: '0',\n      rwdBalance: '0',\n      stakingBalance: '0',\n      loading: true\n    };\n    return _this;\n  }\n  _createClass(App, [{\n    key: \"UNSAFE_componentWillMount\",\n    value: function () {\n      var _UNSAFE_componentWillMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.loadWeb3();\n            case 2:\n              _context.next = 4;\n              return this.loadBlockChainData();\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function UNSAFE_componentWillMount() {\n        return _UNSAFE_componentWillMount.apply(this, arguments);\n      }\n      return UNSAFE_componentWillMount;\n    }() // this function connects to the blockchain\n  }, {\n    key: \"loadWeb3\",\n    value: function () {\n      var _loadWeb = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!window.ethereum) {\n                _context2.next = 6;\n                break;\n              }\n              window.web3 = new Web3(window.ethereum);\n              _context2.next = 4;\n              return window.ethereum.enable();\n            case 4:\n              _context2.next = 7;\n              break;\n            case 6:\n              if (window.web3) {\n                window.web3 = new Web3(window.web3.currentProvider);\n              } else {\n                window.alert('No ethereum detected!! You can go and check out Metamask!!');\n              }\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      function loadWeb3() {\n        return _loadWeb.apply(this, arguments);\n      }\n      return loadWeb3;\n    }()\n  }, {\n    key: \"loadBlockChainData\",\n    value: function () {\n      var _loadBlockChainData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var web3, account, networkId, tetherData, tether, tetherBalance;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              web3 = window.web3;\n              _context3.next = 3;\n              return web3.eth.getAccounts();\n            case 3:\n              account = _context3.sent;\n              this.setState({\n                account: account[0]\n              });\n              _context3.next = 7;\n              return web3.eth.net.getId();\n            case 7:\n              networkId = _context3.sent;\n              //load tether contract\n              tetherData = Tether.networks[networkId];\n              if (!tetherData) {\n                _context3.next = 19;\n                break;\n              }\n              tether = new web3.eth.Contract(Tether.abi, tetherData.address);\n              this.setState({\n                tether: tether\n              });\n              _context3.next = 14;\n              return tether.methods.balanceOf(this.state.account).call();\n            case 14:\n              tetherBalance = _context3.sent;\n              this.setState({\n                tetherBalance: tetherBalance.toString()\n              });\n              console.log({\n                balance: tetherBalance\n              });\n              _context3.next = 20;\n              break;\n            case 19:\n              window.alert(\"Error!! Tether contract not deployed\");\n            case 20:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function loadBlockChainData() {\n        return _loadBlockChainData.apply(this, arguments);\n      }\n      return loadBlockChainData;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Navbar, {\n          account: this.state.account\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Hello, World\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this);\n    }\n  }]);\n  return App;\n}(Component);\nexport default App;","map":{"version":3,"names":["React","Component","Navbar","Web3","Tether","jsxDEV","_jsxDEV","App","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","account","tether","rwd","decentralBank","tetherBalance","rwdBalance","stakingBalance","loading","_createClass","key","value","_UNSAFE_componentWillMount","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","loadWeb3","loadBlockChainData","stop","UNSAFE_componentWillMount","apply","arguments","_loadWeb","_callee2","_callee2$","_context2","window","ethereum","web3","enable","currentProvider","alert","_loadBlockChainData","_callee3","networkId","tetherData","_callee3$","_context3","eth","getAccounts","sent","setState","net","getId","networks","Contract","abi","address","methods","balanceOf","toString","console","log","balance","render","children","fileName","_jsxFileName","lineNumber","columnNumber","className"],"sources":["C:/Users/acer08022023/Desktop/defi-staking-app-starter-main/defi-staking-app-starter/src/components/App.js"],"sourcesContent":["import React, {Component} from \"react\";\r\n\r\nimport './App.css'\r\nimport Navbar from \"./Navbar\";\r\nimport Web3 from 'web3'\r\nimport Tether from '../truffle_abis/Tether.json'\r\n\r\nclass App extends Component{\r\n    \r\n    async UNSAFE_componentWillMount(){\r\n        await this.loadWeb3()\r\n        await this.loadBlockChainData()\r\n    }\r\n\r\n\r\n    // this function connects to the blockchain\r\n    async loadWeb3(){\r\n        if(window.ethereum){\r\n            window.web3= new Web3(window.ethereum)\r\n            await window.ethereum.enable()\r\n        }else if(window.web3){\r\n            window.web3=new Web3(window.web3.currentProvider)\r\n        }else{\r\n            window.alert('No ethereum detected!! You can go and check out Metamask!!')\r\n        }\r\n    }\r\n\r\n    async loadBlockChainData(){\r\n        const web3 =window.web3\r\n        const account =  await web3.eth.getAccounts()\r\n        this.setState({account:account[0]})\r\n        const networkId = await web3.eth.net.getId()\r\n\r\n        //load tether contract\r\n\r\n        const tetherData=Tether.networks[networkId]\r\n        if(tetherData){\r\n            const tether = new web3.eth.Contract(Tether.abi, tetherData.address)\r\n            this.setState({tether})\r\n            let tetherBalance =  await tether.methods.balanceOf(this.state.account).call()\r\n            this.setState({tetherBalance: tetherBalance.toString()})\r\n            console.log({balance: tetherBalance})\r\n        }else{\r\n            window.alert(\"Error!! Tether contract not deployed\")\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            account:'0x0',\r\n            tether: {},\r\n            rwd:{},\r\n            decentralBank:{},\r\n            tetherBalance:'0',\r\n            rwdBalance:'0',\r\n            stakingBalance:'0',\r\n            loading:true \r\n\r\n        }\r\n\r\n    }\r\n\r\n    render(){\r\n        return(\r\n        <div>\r\n        <Navbar account={this.state.account}/>\r\n        <div className=\"text-center\">\r\n            <h1>Hello, World</h1>\r\n        </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}